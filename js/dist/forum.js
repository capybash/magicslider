(()=>{var t={n:e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},d:(e,n)=>{for(var r in n)t.o(n,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:n[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["forum/app"];var n=t.n(e);const r=flarum.core.compat["common/extend"],a=flarum.core.compat["forum/components/IndexPage"];var i=t.n(a);function o(t,e){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},o(t,e)}const l=flarum.core.compat["common/Component"];var c=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))||this).index=0,e.interval=void 0,e.touchStartX=null,e}var n,r;r=t,(n=e).prototype=Object.create(r.prototype),n.prototype.constructor=n,o(n,r);var a=e.prototype;return a.oncreate=function(t){var e=this,n=Number(t.attrs.autoplayMs||0);t.attrs.slides.length>1&&n>0&&(this.interval=window.setInterval(function(){e.next(t.attrs.slides.length),m.redraw()},n))},a.onremove=function(){this.interval&&window.clearInterval(this.interval)},a.next=function(t){this.index=(this.index+1)%t},a.prev=function(t){this.index=(this.index-1+t)%t},a.onPointerDown=function(t){var e;this.touchStartX=null!=(e=t.clientX)?e:0},a.onPointerUp=function(t,e){var n;if(null!==this.touchStartX){var r=(null!=(n=t.clientX)?n:0)-this.touchStartX;this.touchStartX=null,Math.abs(r)>40&&(r<0?this.next(e):this.prev(e),m.redraw())}},a.view=function(t){var e,n=this,r=t.attrs,a=r.slides,i=r.heightDesktop,o=r.heightMobile,l=r.padding,c=r.radius;if(!a.length)return null;var s=-100*this.index;return m("div",{className:"MagicSlider-wrap",style:{padding:l+"px"}},m("div",{className:"MagicSlider",style:(e={borderRadius:c+"px"},e["--ms-h-desktop"]=i+"px",e["--ms-h-mobile"]=o+"px",e),onpointerdown:function(t){return n.onPointerDown(t)},onpointerup:function(t){return n.onPointerUp(t,a.length)}},m("div",{className:"MagicSlider-track",style:{transform:"translateX("+s+"%)"}},a.map(function(t,e){return m("a",{key:e,className:"MagicSlide",href:t.link||"#",target:t.link?t.newTab?"_blank":"_self":void 0,rel:t.link&&t.newTab?"noopener":void 0,style:{backgroundImage:"url('"+t.image+"')"},onclick:function(e){t.link||e.preventDefault()}})})),a.length>1&&m("[",null,m("button",{className:"MagicSlider-btn prev","aria-label":"Previous",onclick:function(){n.prev(a.length)}},m("i",{className:"fas fa-chevron-left"})),m("button",{className:"MagicSlider-btn next","aria-label":"Next",onclick:function(){n.next(a.length)}},m("i",{className:"fas fa-chevron-right"})),m("div",{className:"MagicSlider-dots"},a.map(function(t,e){return m("button",{key:e,className:"dot"+(n.index===e?" is-active":""),"aria-label":"Slide "+(e+1),onclick:function(){n.index=e}})})))))},e}(t.n(l)());n().initializers.add("capybash-magicslider",function(){(0,r.override)(i().prototype,"hero",function(t){var e=n().forum.attribute("capybash-magicslider.slides")||"[]",r=[];try{r=JSON.parse(e)}catch(t){r=[]}var a=r.filter(function(t){return t&&t.image}).map(function(t){return{image:t.image||"",link:t.link||"",newTab:!0===t.newTab||"true"===t.newTab}}),i=Number(n().forum.attribute("capybash-magicslider.height_desktop")||260),o=Number(n().forum.attribute("capybash-magicslider.height_mobile")||200),l=Number(n().forum.attribute("capybash-magicslider.padding")||0),s=Number(n().forum.attribute("capybash-magicslider.radius")||0),u=Number(n().forum.attribute("capybash-magicslider.autoplay")||0);return a.length?m(c,{slides:a,heightDesktop:i,heightMobile:o,padding:l,radius:s,autoplayMs:u}):t()})})})(),module.exports={}})();
//# sourceMappingURL=forum.js.map