(()=>{var t={n:e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return t.d(a,{a}),a},d:(e,a)=>{for(var i in a)t.o(a,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:a[i]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["admin/app"];var a=t.n(e);function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}const s=flarum.core.compat["admin/components/ExtensionPage"];var n=t.n(s);const r=flarum.core.compat["common/components/Button"];var l=t.n(r);const c=flarum.core.compat["common/helpers/icon"];var o=t.n(c),d=function(t){function e(){for(var e,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(e=t.call.apply(t,[this].concat(i))||this).slides=[],e}var s,n;n=t,(s=e).prototype=Object.create(n.prototype),s.prototype.constructor=s,i(s,n);var r=e.prototype;return r.oninit=function(e){t.prototype.oninit.call(this,e);var a=this.setting("capybash-magicslider.slides")()||"[]";try{this.slides=JSON.parse(a)}catch(t){this.slides=[]}},r.className=function(){return"MagicSliderSettingsPage"},r.oncreate=function(t){var e=this,a=t.dom.querySelector(".MagicSlides-list");if(a){var i=null;a.addEventListener("dragstart",function(t){var e=t.target.closest(".MagicSlides-item");e&&(i=e,t.dataTransfer.effectAllowed="move",e.classList.add("is-dragging"))}),a.addEventListener("dragend",function(){i&&i.classList.remove("is-dragging"),i=null}),a.addEventListener("dragover",function(t){var e;t.preventDefault();var a=t.target.closest(".MagicSlides-item");if(i&&a&&a!==i){var s=a.getBoundingClientRect(),n=t.clientY-s.top>s.height/2;null==(e=a.parentElement)||e.insertBefore(i,n?a.nextSibling:a)}}),a.addEventListener("drop",function(){var t=[];a.querySelectorAll(".MagicSlides-item").forEach(function(a){var i=Number(a.dataset.index),s=e.slides[i];s&&t.push(s)}),e.slides=t,e.syncSlides()})}},r.content=function(){var t=this;return m("div",{className:"MagicSliderSettingsPage"},m("div",{className:"MagicSliderSettingsPage-content"},m("section",{className:"MagicSlider-SettingsSection"},m("h3",null,m("i",{className:"fas fa-image"}),a().translator.trans("capy-magic-slider.admin.settings.section_display")),m("div",{className:"MagicSlider-SettingsSection-content"},this.buildSettingComponent({type:"number",setting:"capybash-magicslider.height_desktop",label:a().translator.trans("capy-magic-slider.admin.settings.height_desktop"),help:a().translator.trans("capy-magic-slider.admin.settings.height_desktop_help"),min:100}),this.buildSettingComponent({type:"number",setting:"capybash-magicslider.height_mobile",label:a().translator.trans("capy-magic-slider.admin.settings.height_mobile"),help:a().translator.trans("capy-magic-slider.admin.settings.height_mobile_help"),min:100}),this.buildSettingComponent({type:"number",setting:"capybash-magicslider.padding",label:a().translator.trans("capy-magic-slider.admin.settings.padding"),help:a().translator.trans("capy-magic-slider.admin.settings.padding_help"),min:0}),this.buildSettingComponent({type:"number",setting:"capybash-magicslider.radius",label:a().translator.trans("capy-magic-slider.admin.settings.radius"),help:a().translator.trans("capy-magic-slider.admin.settings.radius_help"),min:0}),this.buildSettingComponent({type:"number",setting:"capybash-magicslider.autoplay",label:a().translator.trans("capy-magic-slider.admin.settings.autoplay"),help:a().translator.trans("capy-magic-slider.admin.settings.autoplay_help"),min:0}))),m("section",{className:"MagicSlider-SettingsSection"},m("h3",null,m("i",{className:"fas fa-sliders-h"}),a().translator.trans("capy-magic-slider.admin.settings.section_slides")),m("div",{className:"MagicSlider-SettingsSection-content"},m("div",{className:"Form-group"},m("div",{className:"MagicSlides-toolbar"},m(l(),{className:"Button Button--primary",onclick:function(){return t.add()}},o()("fas fa-plus")," ",a().translator.trans("capy-magic-slider.admin.settings.add_slide"))),m("div",{className:"MagicSlides-list"},this.slides.map(function(e,i){return m("div",{key:i,className:"MagicSlides-item","data-index":i,draggable:"true"},m("span",{className:"MagicSlides-handle",title:a().translator.trans("capy-magic-slider.admin.settings.drag")},o()("fas fa-grip-vertical")),m("input",{className:"FormControl",type:"text",placeholder:a().translator.trans("capy-magic-slider.admin.settings.image_placeholder"),value:e.image,oninput:function(a){e.image=a.target.value,t.syncSlides()}}),m("input",{className:"FormControl MagicSlides-link",type:"text",placeholder:a().translator.trans("capy-magic-slider.admin.settings.link_placeholder"),value:e.link||"",oninput:function(a){e.link=a.target.value,t.syncSlides()}}),m(l(),{className:"Button MagicSlides-toggle"+(e.newTab?" is-active":""),onclick:function(){e.newTab=!e.newTab,t.syncSlides()}},o()("fas fa-external-link-alt"),m("span",null,a().translator.trans("capy-magic-slider.admin.settings.new_tab"))),m("div",{className:"MagicSlides-actions"},m(l(),{className:"Button Button--danger",onclick:function(){return t.remove(i)}},o()("fas fa-trash"),m("span",null,a().translator.trans("capy-magic-slider.admin.settings.delete")))))}))))),this.submitButton()))},r.add=function(){this.slides.push({image:"",link:"",newTab:!1}),this.syncSlides(),setTimeout(function(){return m.redraw()},0)},r.remove=function(t){this.slides.splice(t,1),this.syncSlides()},r.syncSlides=function(){this.setting("capybash-magicslider.slides")(JSON.stringify(this.slides)),m.redraw()},e}(n());a().initializers.add("capybash-magicslider",function(){a().extensionData.for("capybash-magicslider").registerPage(d)})})(),module.exports={}})();
//# sourceMappingURL=admin.js.map